'use strict';(function(a,b){'function'==typeof define&&define.amd?define('tinysort',function(){return b}):a.tinysort=b})(window||module||{},function(a){function c(a,b){for(var c=a.length,d=c,e=void 0;d--;)e=c-d-1,b(a[e],e)}function b(a,b,c){for(var d in b)(c||a[d]===e)&&(a[d]=b[d]);return a}function d(a,b,c){l.push({prepare:a,sort:b,sortBy:c})}var e=a,f=null,g=window,h=g.document,i=parseFloat,j=/(-?\d+\.?\d*)\s*$/g,k=/(\d+\.?\d*)\s*$/g,l=[],m={selector:f,order:'asc',attr:f,data:f,useVal:!1,place:'org',returns:!1,cases:!1,natural:!1,forceStrings:!1,ignoreDashes:!1,sortFunction:f,useFlex:!1,emptyEnd:!1,console:console},n=0,o=0;return g.Element&&function(a){return a.matches=a.matches||a.msMatchesSelector}(Element.prototype),b(d,{loop:c}),b(function(a,d){function g(a){var c=!!a.selector,d=c&&':'===a.selector[0],e=b(a||{},m);G.push(b({hasSelector:c,hasAttr:e.attr!==f&&''!==e.attr,hasData:e.data!==f,hasFilter:d,sortReturnNumber:'asc'===e.order?1:-1},e))}function p(){c(a,function(a,b){H?H!==a.parentNode&&(I=!1):H=a.parentNode;var c=G[0],d=c.hasFilter,e=c.selector,f=!e||d&&a.matches(e)||e&&a.querySelector(e),g=f?D:E,h={elm:a,pos:b,posn:g.length};C.push(h),g.push(h)}),F.splice.apply(F,[0,Number.MAX_SAFE_INTEGER].concat(D))}function q(e,a,b){for(var f=b(e.toString()),g=b(a.toString()),h=0;f[h]&&g[h];h++)if(f[h]!==g[h]){var i=+f[h],c=+g[h];return i==f[h]&&c==g[h]?i-c:f[h]>g[h]?1:-1}return f.length-g.length}function r(a){for(var b,c=[],d=0,e=-1,f=0,g=void 0,h=void 0;g=(h=a.charAt(d++)).charCodeAt(0);)b=46===g||48<=g&&57>=g,b!==f&&(c[++e]='',f=b),c[e]+=h;return c}function s(d,a){var b=0;0!==o&&(o=0);for(var f=function(){var f=G[o],g=f.ignoreDashes?k:j;c(l,function(a){return a.prepare&&a.prepare(f)});var h=!1,m=x(d,f),n=x(a,f);if(f.sortFunction)b=f.sortFunction(d,a);else if('rand'===f.order)b=.5>Math.random()?1:-1;else{var p=''===m||m===e,s=''===n||n===e;if(m===n)b=0;else if(f.emptyEnd&&(p||s))b=p&&s?0:p?1:-1;else{if(!f.forceStrings){var t=!!y(m)&&m&&m.match(g),u=!!y(n)&&n&&n.match(g);if(t&&u){var v=m.substr(0,m.length-t[0].length),w=n.substr(0,n.length-u[0].length);v==w&&(h=!0,m=i(t[0]),n=i(u[0]))}}b=m===e||n===e?0:f.natural&&(isNaN(m)||isNaN(n))?q(m,n,r):m<n?-1:m>n?1:0}}c(l,function(a){var c=a.sort;return c&&(b=c(f,h,m,n,b))}),b*=f.sortReturnNumber,0===b&&o++};0===b&&o<n;)f();return 0===b&&(b=d.pos>a.pos?1:-1),b}function t(){var a=D.length===C.length,b=G[0],c=b.place,d=b.console;if(I&&a)L?D.forEach(function(a,b){return a.elm.style.order=b}):H?H.appendChild(u()):d&&d.warn&&d.warn('parentNode has been removed');else{var e='start'===c,f='end'===c,g='first'===c;if('org'===c)D.forEach(v),D.forEach(function(a,b){return w(F[b],a.elm)});else if(e||f){var h=F[e?0:F.length-1],i=h&&h.elm.parentNode,j=i&&(e&&i.firstChild||i.lastChild);j&&(j!==h.elm&&(h={elm:j}),v(h),f&&i.appendChild(h.ghost),w(h,u()))}else if(g||'last'===c){var k=F[g?0:F.length-1];w(v(k),u())}}}function u(){return D.forEach(function(a){return B.appendChild(a.elm)}),B}function v(a){var b=a.elm,c=h.createElement('div');return a.ghost=c,b.parentNode.insertBefore(c,b),a}function w(a,b){var c=a.ghost,d=c.parentNode;d.insertBefore(b,c),d.removeChild(c),delete a.ghost}function x(a,b){var c,d=a.elm,e=b.selector;return e&&(b.hasFilter?!d.matches(e)&&(d=f):d=d.querySelector(e)),b.hasAttr?c=d.getAttribute(b.attr):b.useVal?c=d.value||d.getAttribute('value'):b.hasData?c=d.getAttribute('data-'+b.data):d&&(c=d.textContent),y(c)&&(!b.cases&&(c=c.toLowerCase()),c=c.replace(/\s+/g,' ')),null===c&&(c='\u0FFF'),c}function y(a){return'string'==typeof a}y(a)&&(a=h.querySelectorAll(a));var z=Object.assign({},m,d||{}),A=z.console;0===a.length&&A&&A.warn&&A.warn('No elements to sort');var B=h.createDocumentFragment(),C=[],D=[],E=[],F=[],G=[],H=void 0,I=!0,J=a.length&&a[0].parentNode,K=J.rootNode!==document,L=a.length&&(d===e||!1!==d.useFlex)&&!K&&-1!==getComputedStyle(J,null).display.indexOf('flex');return function(){0===arguments.length?g({}):c(arguments,function(a){return g(y(a)?{selector:a}:a)}),n=G.length}.apply(f,Array.prototype.slice.call(arguments,1)),p(),D.sort(d&&d.sortFunction||s),t(),D.map(function(a){return a.elm})},{plugin:d,defaults:m})}());
